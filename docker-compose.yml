version: "3.8"
services:
  batteries-project-backend:
    build: 
      context: ./
    environment:
      DB_CONNECTIONSTRING: "User ID=BatteriesAdmin;Password=12345678;Host=localhost;Port=5432;Database=Batteries;Pooling=true;"
      ASPNETCORE_ENVIRONMENT: "Development"
    ports:
      - "3000:80"
    networks:
      - batteries-project-network
    depends_on:
      - mssql

  database:
    image: postgres
    environment:
      - POSTGRES_USER=BatteriesAdmin
      - POSTGRES_PASSWORD=<insert_password>
      - POSTGRES_DB=Batteries
    ports:
      - "5433:5432"
    networks:
      - batteries-project-network
    volumes:
      - mssql-data:/var/opt/mssql

networks: 
    batteries-project-network:
        driver: bridge

volumes:
  mssql-data: